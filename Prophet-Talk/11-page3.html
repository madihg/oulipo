<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Draggable Images</title>
        <style>
        body, html {
        height: 100%;
        margin: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background-image: url('https://st2.depositphotos.com/1141522/5301/v/450/depositphotos_53014093-stock-illustration-stack-of-white-papers-hand.jpg');
        background-size: cover; /* Cover the entire page */
        background-position: center; /* Center the background image */
        background-repeat: no-repeat; /* Do not repeat the image */
    }
    h1 {
    position: absolute;
    top: 0;
    left: 0;
    margin: 10px; /* Add a little space from the edges */
}
    #imageContainer {
        position: relative; /* Required for absolute positioning of children */
    }
    
    .draggable {
        cursor: grab;
        position: absolute; /* Stack images */
        transition: transform 0.2s; /* Smooth transition for repositioning */
        max-width: 400px;
        min-width: 200px;
    }
    </style>
</head>

<body>
    <div id="imageContainer">
        <img src="https://www.oulipo.xyz/Canvas/assets/installation4.png" class="draggable" alt="Installation 4" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/installation3.png" class="draggable" alt="Installation 3" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/installation2.png" class="draggable" alt="Installation 2" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/installation1.png" class="draggable" alt="Installation 1" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/brazil.png" class="draggable" alt="Brazil" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/peru.png" class="draggable" alt="Peru" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/japan.png" class="draggable" alt="Japan" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/france.png" class="draggable" alt="France" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/passport.png" class="draggable" alt="Passport" draggable="false">
        <img src="https://www.oulipo.xyz/Canvas/assets/khalo.png" class="draggable" alt="khalo" draggable="false">
    </div>

    <script>

let zIndexCounter = 0;

document.addEventListener('DOMContentLoaded', () => {
    let selectedImage = null;
    let startX = 0, startY = 0; // Starting position of the mouse relative to the page

    const imageContainer = document.getElementById('imageContainer');
    imageContainer.addEventListener('mousedown', function(e) {
        if (e.target.classList.contains('draggable')) {
            selectedImage = e.target;
            const rect = selectedImage.getBoundingClientRect();
            // Calculate the starting position of the mouse relative to the clicked image
            startX = e.clientX - rect.left;
            startY = e.clientY - rect.top;
            
            // Apply a higher z-index to ensure the selected image is on top
            selectedImage.style.zIndex = 1000;
            selectedImage.style.cursor = 'grabbing';
        }
    });

    document.addEventListener('mousemove', function(e) {
        if (selectedImage) {
            e.preventDefault();
            // Move the image based on the current mouse position minus the initial offset
            selectedImage.style.left = (e.clientX - startX - imageContainer.offsetLeft) + 'px';
            selectedImage.style.top = (e.clientY - startY - imageContainer.offsetTop) + 'px';
        }
    });

    document.addEventListener('mouseup', function() {
        if (selectedImage) {
            selectedImage.style.cursor = 'grab';
    
            // Increase z-index to put the dragged image on top of others
            zIndexCounter++; // Increment the counter
            selectedImage.style.zIndex = zIndexCounter; // Apply the incremented value
    
            selectedImage = null; // Clear the reference to the selected image
        }
    });
});

document.getElementById('openPageBtn').addEventListener('click', function() {
    // Opens the first link in a new window or tab
    window.open('https://www.oulipo.xyz/Canvas/Cluster 1/qrcode.html', '_blank', 'width=600,height=800,right=100,top=200,toolbar=no,scrollbars=no,resizable=yes');

    // Opens the second link in a new window or tab
    window.open('https://www.oulipo.xyz/where-is-home-for-you/index.html', '_blank', 'width=600,height=400,left=250,top=250,toolbar=no,scrollbars=no,resizable=yes');
});


    </script>
</body>

</html>
